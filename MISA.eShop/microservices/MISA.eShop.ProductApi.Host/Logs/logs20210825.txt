2021-08-25 16:40:22.781 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 16:40:28.050 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 16:40:28.979 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 16:40:29.039 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 16:40:29.414 +07:00 [DBG] Transport connection checking...
2021-08-25 16:40:29.414 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:40:29.448 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 16:40:29.490 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 16:40:59.416 +07:00 [DBG] Transport connection checking...
2021-08-25 16:40:59.416 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:41:29.438 +07:00 [DBG] Transport connection checking...
2021-08-25 16:41:29.438 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:41:59.447 +07:00 [DBG] Transport connection checking...
2021-08-25 16:41:59.447 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:42:29.451 +07:00 [DBG] Transport connection checking...
2021-08-25 16:42:29.451 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:42:59.457 +07:00 [DBG] Transport connection checking...
2021-08-25 16:42:59.457 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:49:33.483 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 16:49:34.438 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 16:49:35.092 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 16:49:35.145 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 16:49:35.444 +07:00 [DBG] Transport connection checking...
2021-08-25 16:49:35.444 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:49:35.471 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 16:49:35.503 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 16:50:05.457 +07:00 [DBG] Transport connection checking...
2021-08-25 16:50:05.458 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:50:35.476 +07:00 [DBG] Transport connection checking...
2021-08-25 16:50:35.477 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:51:05.487 +07:00 [DBG] Transport connection checking...
2021-08-25 16:51:05.487 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:51:35.490 +07:00 [DBG] Transport connection checking...
2021-08-25 16:51:35.490 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:52:05.511 +07:00 [DBG] Transport connection checking...
2021-08-25 16:52:05.512 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:52:35.521 +07:00 [DBG] Transport connection checking...
2021-08-25 16:52:35.521 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:53:05.531 +07:00 [DBG] Transport connection checking...
2021-08-25 16:53:05.531 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:53:35.549 +07:00 [DBG] Transport connection checking...
2021-08-25 16:53:35.549 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:54:05.574 +07:00 [DBG] Transport connection checking...
2021-08-25 16:54:05.575 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:54:35.515 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 16:54:35.517 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 16:54:35.590 +07:00 [DBG] Transport connection checking...
2021-08-25 16:54:35.590 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:55:05.600 +07:00 [DBG] Transport connection checking...
2021-08-25 16:55:05.600 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:55:35.611 +07:00 [DBG] Transport connection checking...
2021-08-25 16:55:35.612 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:56:05.613 +07:00 [DBG] Transport connection checking...
2021-08-25 16:56:05.613 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:56:35.619 +07:00 [DBG] Transport connection checking...
2021-08-25 16:56:35.619 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:57:05.632 +07:00 [DBG] Transport connection checking...
2021-08-25 16:57:05.632 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:57:35.640 +07:00 [DBG] Transport connection checking...
2021-08-25 16:57:35.640 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:58:05.655 +07:00 [DBG] Transport connection checking...
2021-08-25 16:58:05.655 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:58:35.674 +07:00 [DBG] Transport connection checking...
2021-08-25 16:58:35.674 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:59:05.678 +07:00 [DBG] Transport connection checking...
2021-08-25 16:59:05.678 +07:00 [DBG] Transport connection healthy!
2021-08-25 16:59:35.527 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 16:59:35.530 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 16:59:35.698 +07:00 [DBG] Transport connection checking...
2021-08-25 16:59:35.698 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:00:05.701 +07:00 [DBG] Transport connection checking...
2021-08-25 17:00:05.701 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:00:35.709 +07:00 [DBG] Transport connection checking...
2021-08-25 17:00:35.709 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:20:17.752 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:20:18.734 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:20:19.444 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:20:19.506 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:20:19.832 +07:00 [DBG] Transport connection checking...
2021-08-25 17:20:19.832 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:20:19.872 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:20:19.917 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:20:45.309 +07:00 [ERR] ---------- RemoteServiceErrorInfo ----------
{
  "code": null,
  "message": "An internal error occurred during your request!",
  "details": null,
  "data": {
    "ActivatorChain": "Volo.Abp.Domain.Entities.Events.EntityChangeEventHelper -> MISA.Abp.EventBus.Cap.CapDistributedEventBus"
  },
  "validationErrors": null
}

2021-08-25 17:20:45.310 +07:00 [ERR] An exception was thrown while activating Volo.Abp.Domain.Entities.Events.EntityChangeEventHelper -> MISA.Abp.EventBus.Cap.CapDistributedEventBus.
Autofac.Core.DependencyResolutionException: An exception was thrown while activating Volo.Abp.Domain.Entities.Events.EntityChangeEventHelper -> MISA.Abp.EventBus.Cap.CapDistributedEventBus.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.Extensions.DependencyInjection.IServiceScopeFactory, Microsoft.Extensions.Options.IOptions`1[Volo.Abp.EventBus.Distributed.AbpDistributedEventBusOptions], DotNetCore.CAP.ICapPublisher, Volo.Abp.MultiTenancy.ICurrentTenant)' on type 'CapDistributedEventBus'.
 ---> System.MissingMethodException: Method not found: 'Void Volo.Abp.EventBus.EventBusBase..ctor(Microsoft.Extensions.DependencyInjection.IServiceScopeFactory, Volo.Abp.MultiTenancy.ICurrentTenant)'.
   at MISA.Abp.EventBus.Cap.CapDistributedEventBus..ctor(IServiceScopeFactory serviceScopeFactory, IOptions`1 distributedEventBusOptions, ICapPublisher capPublisher, ICurrentTenant currentTenant)
   at lambda_method17(Closure , Object[] )
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Volo.Abp.DependencyInjection.AbpLazyServiceProvider.<>c__DisplayClass12_0.<LazyGetService>b__0()
   at System.Collections.Generic.AbpDictionaryExtensions.<>c__DisplayClass6_0`2.<GetOrAdd>b__0(TKey k)
   at System.Collections.Generic.AbpDictionaryExtensions.GetOrAdd[TKey,TValue](IDictionary`2 dictionary, TKey key, Func`2 factory)
   at System.Collections.Generic.AbpDictionaryExtensions.GetOrAdd[TKey,TValue](IDictionary`2 dictionary, TKey key, Func`1 factory)
   at Volo.Abp.DependencyInjection.AbpLazyServiceProvider.LazyGetService(Type serviceType)
   at Volo.Abp.DependencyInjection.AbpLazyServiceProvider.LazyGetService(Type serviceType, Object defaultValue)
   at Volo.Abp.DependencyInjection.AbpLazyServiceProvider.LazyGetService[T](T defaultValue)
   at Volo.Abp.EntityFrameworkCore.AbpDbContext`1.get_EntityChangeEventHelper()
   at Volo.Abp.EntityFrameworkCore.AbpDbContext`1.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Volo.Abp.Uow.UnitOfWork.SaveChangesAsync(CancellationToken cancellationToken)
   at Volo.Abp.Uow.UnitOfWork.CompleteAsync(CancellationToken cancellationToken)
   at Volo.Abp.AspNetCore.Mvc.Uow.AbpUowActionFilter.OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2021-08-25 17:20:45.330 +07:00 [ERR] ---------- Exception Data ----------
ActivatorChain = Volo.Abp.Domain.Entities.Events.EntityChangeEventHelper -> MISA.Abp.EventBus.Cap.CapDistributedEventBus

2021-08-25 17:20:49.843 +07:00 [DBG] Transport connection checking...
2021-08-25 17:20:49.843 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:32:08.171 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:32:13.388 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:32:14.487 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:32:14.554 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:32:14.931 +07:00 [DBG] Transport connection checking...
2021-08-25 17:32:14.931 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:32:14.956 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:32:14.987 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:32:44.945 +07:00 [DBG] Transport connection checking...
2021-08-25 17:32:44.945 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:33:14.954 +07:00 [DBG] Transport connection checking...
2021-08-25 17:33:14.954 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:33:44.959 +07:00 [DBG] Transport connection checking...
2021-08-25 17:33:44.959 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:34:14.976 +07:00 [DBG] Transport connection checking...
2021-08-25 17:34:14.976 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:34:44.979 +07:00 [DBG] Transport connection checking...
2021-08-25 17:34:44.979 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:35:14.993 +07:00 [DBG] Transport connection checking...
2021-08-25 17:35:14.993 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:35:45.001 +07:00 [DBG] Transport connection checking...
2021-08-25 17:35:45.001 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:36:15.014 +07:00 [DBG] Transport connection checking...
2021-08-25 17:36:15.014 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:36:45.017 +07:00 [DBG] Transport connection checking...
2021-08-25 17:36:45.017 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:37:15.005 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:37:15.009 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:37:15.034 +07:00 [DBG] Transport connection checking...
2021-08-25 17:37:15.034 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:37:45.055 +07:00 [DBG] Transport connection checking...
2021-08-25 17:37:45.055 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:38:15.061 +07:00 [DBG] Transport connection checking...
2021-08-25 17:38:15.061 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:38:40.735 +07:00 [DBG] ### CAP background task is stopping.
2021-08-25 17:42:21.469 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:42:22.344 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:42:23.056 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:42:23.112 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:42:23.426 +07:00 [DBG] Transport connection checking...
2021-08-25 17:42:23.426 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:42:23.456 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:42:23.490 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:43:58.738 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:43:59.657 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:44:00.323 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:44:00.374 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:44:00.696 +07:00 [DBG] Transport connection checking...
2021-08-25 17:44:00.697 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:44:00.734 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:44:00.775 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:44:30.716 +07:00 [DBG] Transport connection checking...
2021-08-25 17:44:30.716 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:45:00.736 +07:00 [DBG] Transport connection checking...
2021-08-25 17:45:00.736 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:45:30.745 +07:00 [DBG] Transport connection checking...
2021-08-25 17:45:30.745 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:46:00.753 +07:00 [DBG] Transport connection checking...
2021-08-25 17:46:00.753 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:46:30.769 +07:00 [DBG] Transport connection checking...
2021-08-25 17:46:30.770 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:46:34.437 +07:00 [DBG] ### CAP background task is stopping.
2021-08-25 17:48:12.123 +07:00 [INF] #MISA#Starting web host MISA.eShop.OrderApi.Host.
2021-08-25 17:48:14.522 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:48:15.326 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:48:15.944 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:48:16.000 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:48:16.308 +07:00 [DBG] Transport connection checking...
2021-08-25 17:48:16.308 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:48:16.336 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:48:16.364 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:48:46.324 +07:00 [DBG] Transport connection checking...
2021-08-25 17:48:46.324 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:49:15.878 +07:00 [DBG] ### CAP background task is stopping.
2021-08-25 17:50:33.493 +07:00 [INF] #MISA#Starting web host MISA.eShop.OrderApi.Host.
2021-08-25 17:50:34.347 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:50:42.619 +07:00 [ERR] Initializing the storage structure failed!
Autofac.Core.DependencyResolutionException: An exception was thrown while activating λ:DotNetCore.CAP.Internal.IProcessingServer[] -> λ:DotNetCore.CAP.Internal.IProcessingServer -> DotNetCore.CAP.Processor.Dispatcher -> DotNetCore.CAP.Internal.MessageSender.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.Extensions.Logging.ILogger`1[DotNetCore.CAP.Internal.MessageSender], System.IServiceProvider)' on type 'MessageSender'.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating DotNetCore.CAP.MySql.MySqlDataStorage.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(Microsoft.Extensions.Options.IOptions`1[DotNetCore.CAP.MySqlOptions], Microsoft.Extensions.Options.IOptions`1[DotNetCore.CAP.CapOptions], DotNetCore.CAP.Persistence.IStorageInitializer, DotNetCore.CAP.Serialization.ISerializer)' on type 'MySqlDataStorage'.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating MISA.OrderManager.EntityFrameworkCore.OrderManagerDbContext -> λ:Microsoft.EntityFrameworkCore.DbContextOptions`1[[MISA.OrderManager.EntityFrameworkCore.OrderManagerDbContext, MISA.OrderManager.EntityFrameworkCore, Version=0.1.0.0, Culture=neutral, PublicKeyToken=null]].
 ---> MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, Int32 startTickCount, ILoadBalancer loadBalancer, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 417
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(String logMessage, Int32 startTickCount, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 376
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int32 startTickCount, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 107
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int32 startTickCount, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 137
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int32 startTickCount, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 873
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 414
   at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 380
   at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)
   at Volo.Abp.EntityFrameworkCore.AbpDbContextConfigurationContextMySQLExtensions.UseMySQL(AbpDbContextConfigurationContext context, Action`1 mySQLOptionsAction)
   at Volo.Abp.EntityFrameworkCore.AbpDbContextOptionsMySQLExtensions.<>c__DisplayClass0_0.<UseMySQL>b__0(AbpDbContextConfigurationContext context)
   at Volo.Abp.EntityFrameworkCore.DependencyInjection.DbContextOptionsFactory.Configure[TDbContext](AbpDbContextOptions options, AbpDbContextConfigurationContext`1 context)
   at Volo.Abp.EntityFrameworkCore.DependencyInjection.DbContextOptionsFactory.Create[TDbContext](IServiceProvider serviceProvider)
   at Autofac.Extensions.DependencyInjection.AutofacRegistration.<>c__DisplayClass3_0.<Register>b__0(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at DotNetCore.CAP.ConfigureMySqlOptions.Configure(MySqlOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at DotNetCore.CAP.MySql.MySqlStorageInitializer.GetPublishedTableName()
   at DotNetCore.CAP.MySql.MySqlDataStorage..ctor(IOptions`1 options, IOptions`1 capOptions, IStorageInitializer initializer, ISerializer serializer)
   at lambda_method62(Closure , Object[] )
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at DotNetCore.CAP.Internal.MessageSender..ctor(ILogger`1 logger, IServiceProvider serviceProvider)
   at lambda_method67(Closure , Object[] )
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetServices[T](IServiceProvider provider)
   at DotNetCore.CAP.Internal.Bootstrapper.BootstrapAsync()
2021-08-25 17:50:42.654 +07:00 [DBG] ### CAP background task is stopping.
2021-08-25 17:50:42.655 +07:00 [FTL] Host MISA.eShop.OrderApi.Host terminated unexpectedly!
System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at DotNetCore.CAP.Internal.Bootstrapper.<BootstrapAsync>b__5_0()
   at System.Threading.CancellationToken.<>c.<.cctor>b__26_0(Object obj)
   at System.Threading.CancellationTokenSource.CallbackNode.<>c.<ExecuteCallback>b__9_0(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.CancellationTokenSource.CallbackNode.ExecuteCallback()
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   --- End of inner exception stack trace ---
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   at System.Threading.CancellationTokenSource.NotifyCancellation(Boolean throwOnFirstException)
   at System.Threading.CancellationTokenSource.Cancel()
   at DotNetCore.CAP.Internal.Bootstrapper.Dispose()
   at Autofac.Core.Disposer.DisposeAsync(Boolean disposing)
   at Autofac.Core.Lifetime.LifetimeScope.DisposeAsync(Boolean disposing)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.DisposeAsync()
   at Microsoft.Extensions.Hosting.Internal.Host.DisposeAsync()
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at MISA.eShop.OrderApi.Host.Program.Main(String[] args) in D:\DEMO\MISA.eShop\microservices\MISA.eShop.OrderApi.Host\Program.cs:line 32
2021-08-25 17:53:53.403 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:53:54.174 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:53:54.770 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:53:54.820 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:53:55.111 +07:00 [DBG] Transport connection checking...
2021-08-25 17:53:55.111 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:53:55.137 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:53:55.166 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:58:33.190 +07:00 [INF] #MISA#Starting web host MISA.eShop.ProductApi.Host.
2021-08-25 17:58:34.082 +07:00 [DBG] ### CAP background task is starting.
2021-08-25 17:58:34.698 +07:00 [DBG] CAP Kafka servers: 10.0.6.88:9092
2021-08-25 17:58:34.749 +07:00 [DBG] Ensuring all create database tables script are applied.
2021-08-25 17:58:35.043 +07:00 [DBG] Transport connection checking...
2021-08-25 17:58:35.043 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:58:35.067 +07:00 [DBG] Collecting expired data from table: cap.published
2021-08-25 17:58:35.095 +07:00 [DBG] Collecting expired data from table: cap.received
2021-08-25 17:59:05.051 +07:00 [DBG] Transport connection checking...
2021-08-25 17:59:05.051 +07:00 [DBG] Transport connection healthy!
2021-08-25 17:59:35.055 +07:00 [DBG] Transport connection checking...
2021-08-25 17:59:35.056 +07:00 [DBG] Transport connection healthy!
2021-08-25 18:00:05.058 +07:00 [DBG] Transport connection checking...
2021-08-25 18:00:05.058 +07:00 [DBG] Transport connection healthy!
2021-08-25 18:00:35.083 +07:00 [DBG] Transport connection checking...
2021-08-25 18:00:35.083 +07:00 [DBG] Transport connection healthy!
